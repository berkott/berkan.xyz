import{b as D,i as I,o as L,E as Y,J as q,K as v,M as C,w as F,O as R,P as S,d as b,Q as N,U as H,j as M,R as P,S as U,C as j,T as p,V as w}from"./BuAUvOro.js";function J(a,t,[r,f]=[0,0]){I&&r===0&&L();var i=a,s=null,c=null,u=H,k=r>0?Y:0,T=!1;const O=(n,l=!0)=>{T=!0,A(l,n)},A=(n,l)=>{if(u===(u=n))return;let E=!1;if(I&&f!==-1){if(r===0){const e=i.data;e===q?f=0:e===v?f=1/0:(f=parseInt(e.substring(1)),f!==f&&(f=u?1/0:-1))}const g=f>r;!!u===g&&(i=C(),F(i),R(!1),E=!0,f=-1)}u?(s?S(s):l&&(s=b(()=>l(i))),c&&N(c,()=>{c=null})):(c?S(c):l&&(c=b(()=>l(i,[r+1,f]))),s&&N(s,()=>{s=null})),E&&R(!0)};D(()=>{T=!1,t(O),T||A(null,null)},k),I&&(i=M)}function h(a,t){return a===t||(a==null?void 0:a[w])===t}function K(a={},t,r,f){return P(()=>{var i,s;return U(()=>{i=s,s=[],j(()=>{a!==r(...s)&&(t(a,...s),i&&h(r(...i),a)&&t(null,...i))})}),()=>{p(()=>{s&&h(r(...s),a)&&t(null,...s)})}}),a}export{K as b,J as i};
